# AudioAnalyzer

Модуль **AudioAnalyzer** предназначен для анализа аудиосигнала с помощью быстрого преобразования Фурье (FFT) и визуализации спектра на светодиодной матрице. Поддерживает гибкую настройку параметров через JSON и хранение их в энергонезависимой памяти (NVS).

## Возможности

- Анализ аудиосигнала с помощью FFT (настраиваемое окно, частота дискретизации)
- Визуализация спектра в виде столбцов (bands) для светодиодной матрицы
- Гибкая настройка параметров анализа:
  - Чувствительность (`sensitivityReduction`)
  - Усиление низких, средних и высоких частот (`lowFreqGain`, `midFreqGain`, `highFreqGain`)
  - Сглаживание (`alpha`)
  - Диапазон анализируемых частот (`fMin`, `fMax`)
  - Порог шума (`noiseThresholdRatio`)
  - Затухание столбцов (`bandDecay`)
  - Верхний предел амплитуды (`bandCeiling`)
- Сохранение и загрузка настроек из NVS (PersistantSetting)
- Применение и сброс настроек через JSON (например, из Serial)
- Получение JSON-схемы всех параметров для UI или интеграции

## Основные файлы

- `audio_analyzer.hpp` — объявление класса, параметры, интерфейс
- `audio_analyzer.cpp` — реализация методов анализа и визуализации

## Пример использования

```cpp
AudioAnalyzer analyzer;
analyzer.begin(); // загрузка настроек из NVS

// В основном цикле:
analyzer.processAudio();
uint16_t heights[MATRIX_WIDTH];
analyzer.getNormalizedHeights(heights, MATRIX_HEIGHT);
// heights[] — массив для визуализации спектра